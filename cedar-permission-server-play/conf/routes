# Routes
# This file defines all application routes (Higher priority routes first)
# ~~~~

# Home page
GET            /                                          controllers.MainPermissionServerController.index()

# Folders
GET            /folders/:id/permissions                   controllers.FolderController.getPermissions(id: String)
PUT            /folders/:id/permissions                   controllers.FolderController.updatePermissions(id: String)

# Templates
GET            /templates/:id/permissions                 controllers.TemplateController.getTemplatePermissions(id: String)
PUT            /templates/:id/permissions                 controllers.TemplateController.updateTemplatePermissions(id: String)

# Template Elements
GET            /template-elements/:id/permissions         controllers.TemplateElementController.getTemplateElementPermissions(id: String)
PUT            /template-elements/:id/permissions         controllers.TemplateElementController.updateTemplateElementPermissions(id: String)

# Template Fields
GET            /template-fields/:id/permissions           controllers.TemplateFieldController.getTemplateFieldPermissions(id: String)
PUT            /template-fields/:id/permissions           controllers.TemplateFieldController.updateTemplateFieldPermissions(id: String)

# Template Instances
GET            /template-instances/:id/permissions        controllers.TemplateInstanceController.getTemplateInstancePermissions(id: String)
PUT            /template-instances/:id/permissions        controllers.TemplateInstanceController.updateTemplateInstancePermissions(id: String)

# Groups
POST           /groups                                    controllers.GroupController.createGroup()
GET            /groups                                    controllers.GroupController.findGroups()
GET            /groups/:id                                controllers.GroupController.findGroup(id: String)
PATCH          /groups/:id                                controllers.GroupController.patchGroup(id: String)
PUT            /groups/:id                                controllers.GroupController.updateGroup(id: String)
DELETE         /groups/:id                                controllers.GroupController.deleteGroup(id: String)
GET            /groups/:id/members                        controllers.GroupController.getGroupMembers(id: String)
PUT            /groups/:id/members                        controllers.GroupController.updateGroupMembers(id: String)

GET            /accessible-node-ids                       controllers.PermissionController.accessibleNodeIds()

# For CORS - preflight request
OPTIONS        /*all                                      controllers.MainPermissionServerController.preflight(all)

## Map static resources from the /public folder to the /assets URL path
GET            /assets/*file                              controllers.Assets.at(path="/public", file)